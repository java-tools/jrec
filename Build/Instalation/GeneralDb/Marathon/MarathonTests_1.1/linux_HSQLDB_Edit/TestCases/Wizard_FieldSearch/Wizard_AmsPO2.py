useFixture(default)

def test():
	from Modules import commonBits
	java_recorded_version = '1.6.0_17'

#
#	Sript does not work yet !!!
#
	if window('Record Editor'):
		select('FileChooser', commonBits.sampleDir() + 'Ams_PODownload_20050101.txt')
		click('Create Layout Wizard')
		select('Multiple Records #{fixed length#}', 'true')
		click('Right')
		select('TabbedPane', '')
#		select('Table', '')
		select('TextField1', '01')
		select('TextField2', '1')
		click('Right')
		select('TabbedPane', '')
		select('Table', 'header', 'Record Name,0')
		select('Table', 'detail', 'Record Name,1')
		select('Table', 'store', 'Record Name,2')
		select('Table', 'cell:Record Name,0(header)')
		assert_p('Table', 'Content', '[[H, header], [D, detail], [S, store]]')
		select('Table', 'cell:Record Name,0(header)')
		click('Right')
		select('TabbedPane', '')
		assert_p('Table', 'Background', '[r=255,g=255,b=255]')
		assert_p('Table', 'Background', '[r=255,g=255,b=255]')
		assert_p('Table', 'Background', '[r=255,g=255,b=255]')
		assert_p('Table', 'Background', '[r=255,g=255,b=255]')
		click('Right')


		assert_p('TextArea', 'Text', 'You must define the Fields all Records. Please update - detail')
		select('ComboBox', 'store')

		rightclick('Table', 'D,0')
		rightclick('Table', 'P,0')
		rightclick('Table', 'AB,0')

#		select('Table', 'cell:Start,0(1)')
#		rightclick('Table', 'Field Name,1')
#		select_menu('Generate Field Names')

		click('Right')
		select('TabbedPane', '')

		select('Table', 'cell:Start,0(1)')
		rightclick('Table', 'Field Name,1')
		select_menu('Generate Field Names')

		select('ComboBox', 'detail')
		assert_p('Table1', 'Content', '[[D, 1, 44, 11840, 0,  , 45872078, 4544, 44,        , 2, 117093,         , 45872078,        , MT, H5, 033H DUSTY , PINK L/S FANCY CREW C\'MERE CARDIGAN], [D, 1, 14, 11984, 0,  , 43372078, 4544, 14,        , 2, 117152,         , 45872078,        , MT, H5, 033H DUSTY , PINK L/S FANCY CREW C\'MERE CARDIGAN], [D, 1, 29, 10120, 0,  , 45874751, 4090, 29,        , 2, 117337,         , 45872078,        , MT, H5, 030H BLK L/, S VLVT RIBBON SCOOP C\'MERE W/BROOCH], [D, 1, 14, 0, 29440800000000,  , 45874751, 4090, 14,        , 2, 117347,         , 35874751,        , MT, H5, 030H BLK L/, S VLVT RIBBON SCOOP C\'MERE W/BROOCH], [D, 1, 12, 10256, 0,  , 35874751, 4090, 12,        , 2, 117354,         , 35874751,        , MT, H5, 030H BLK L/, S VLVT RIBBON SCOOP C\'MERE W/BROOCH], [D, 1, 11, 5848, 0,  , 31191697, 2726, 11,        , 2, 327928,         , 35891697,        , SK, Y, BLUE SKP02 , L/WEIGHT PONCHO                    ], [D, 1, 11, 5848, 0,  , 33391826, 2726, 11,        , 2, 327931,         , 35891826,        , DU, ST, Y PINK SKP0, 2 L/WEIGHT PONCHO                  ], [D, 1, 28, 3356, 0,  , 31191697, 2726, 28,        , 2, 327933,         , 35891697,        , SK, Y, BLUE SKP02 , L/WEIGHT PONCHO                    ], [D, 1, 28, 3356, 0,  , 31191826, 2726, 28,        , 2, 327936,         , 35891826,        , DU, ST, Y PINK SKP0, 2 L/WEIGHT PONCHO                  ], [D, 1, 15, 3356, 0,  , 31191697, 2726, 15,        , 2, 327982,         , 35891697,        , SK, Y, BLUE SKP02 , L/WEIGHT PONCHO                    ], [D, 1, 15, 3356, 0,  , 35221826, 2726, 15,        , 2, 327985,         , 35891826,        , DU, ST, Y PINK SKP0, 2 L/WEIGHT PONCHO                  ], [D, 1, 123, 6723, 0,  , 35116979, 2272, 123,        , 2, 98136,         , 35926979,        , SA, 13,  CHOC MUSTA, NG PRT RAGLAN SWEAT                ], [D, 1, 133, 6723, 0,  , 35117204, 2272, 133,        , 2, 98137,         , 35927204,        , SA, 13,  PALE BLUE , MP RAGLEN SWEAT                    ], [D, 1, 81, 6723, 0,  , 31127419, 2272, 81,        , 2, 98139,         , 35927419,        , SA, 13,  PALE PINK , MP PRT RAGLAN SWEAT                ], [D, 1, 49, 6723, 0,  , 35333979, 2272, 49,        , 2, 98158,         , 35926979,        , SA, 13,  CHOC MUSTA, NG PRT RAGLAN SWEAT                ], [D, 1, 49, 6723, 0,  , 32227204, 2272, 49,        , 2, 98159,         , 35927204,        , SA, 13,  PALE BLUE , MP RAGLEN SWEAT                    ], [D, 1, 27, 6723, 0,  , 32227419, 2272, 27,        , 2, 98160,         , 35927419,        , SA, 13,  PALE PINK , MP PRT RAGLAN SWEAT                ], [D, 1, 24, 6183, 0,  , 33336979, 2272, 24,        , 2, 98161,         , 35926979,        , SA, 13,  CHOC MUSTA, NG PRT RAGLAN SWEAT                ], [D, 1, 24, 6183, 0,  , 30027204, 2272, 24,        , 2, 98165,         , 35927204,        , SA, 13,  PALE BLUE , MP RAGLEN SWEAT                    ], [D, 1, 14, 6183, 0,  , 35007419, 2272, 14,        , 2, 98167,         , 35927419,        , SA, 13,  PALE PINK , MP PRT RAGLAN SWEAT                ], [D, 1, 109, 11106, 0,  , 31129413, 3636, 109,        , 2, 98293,         , 35929413,        , S4, 54, 7 PALE BLUE,  INDIAN PRINT JACKET               ], [D, 1, 97, 11106, 0,  , 31129710, 3636, 97,        , 2, 98297,         , 35929710,        , S4, 54, 7 PALE PINK,  EAGLE PRINT JACKET                ]]')

		select('Table', 'cell:Start,0(1)')
		rightclick('Table', 'Field Name,1')
		select_menu('Generate Field Names')

		assert_p('Table', 'Text', '')
		assert_p('Table1', 'Text', '')
		select('ComboBox', 'header')
		assert_p('Table', 'Text', '')
		assert_p('Table1', 'Content', '[[H, 145357, 4338, 233863, 4, 929,         , 0,   , 290,  , 5, 1, 3, 5, 1, 75966,         , OPTIONS,  PLCFT], [H, 145358, 4338, 233872, 4, 929,         , 0,   , 290,  , 5, 1, 3, 5, 1, 75965,         , OPTIONS,  PLCFT], [H, 145359, 4468, 255906, 4, 929,         , 0,   , 290,  , 5, 1, 3, 5, 1, 75966,         , OPTIONS,  PLCFT], [H, 145360, 4448, 290908, 4, 929,         , 0,   , 290,  , 5, 1, 3, 5, 1, 75967,         , OPTIONS,  PLCFT], [H, 145361, 4228, 292210, 4, 929,         , 0,   , 290,  , 5, 1, 3, 5, 1, 75965,         , OPTIONS,  PLCFT], [H, 145362, 5220, 211984, 4, 929,         , 0,   , 200,  , 5, 1, 3, 5, 1, 75965,         , LADIES , KNICFT], [H, 145363, 5110, 211985, 4, 929,         , 0,   , 200,  , 5, 1, 3, 5, 1, 75966,         , LADIES , KNICFT], [H, 145364, 5110, 211987, 4, 929,         , 0,   , 200,  , 5, 1, 3, 5, 1, 65967,         , LADIES , KNICFT], [H, 145365, 13112, 211549, 4, 1005,         , 0,   , 220,  , 5, 1, 3, 5, 1, 85966,         , LADIES , KNICFT], [H, 145366, 13312, 211555, 4, 1005,         , 0,   , 220,  , 5, 1, 3, 5, 1, 75967,         , LADIES , KNICFT], [H, 145367, 12212, 222556, 4, 1005,         , 0,   , 220,  , 5, 1, 3, 5, 1, 75965,         , LADIES , KNICFT], [H, 145368, 1312, 211617, 4, 1005,         , 0,   , 220,  , 5, 1, 3, 5, 1, 175966,         , LADIES , KNICFT]]')
		assert_p('Table', 'Content', '[[Record_Type, 1, 1, 0, 0, true], [H1, 2, 6, 6, 0, true], [H2, 8, 10, 6, 0, true], [H3, 18, 12, 6, 0, true], [H4, 30, 2, 6, 0, true], [H5, 32, 4, 6, 0, true], [H6, 36, 8, 0, 0, true], [H7, 44, 2, 6, 0, true], [H8, 46, 2, 0, 0, true], [H9, 48, 3, 6, 0, true], [H10, 51, 1, 0, 0, true], [H11, 52, 2, 6, 0, true], [H12, 54, 2, 6, 0, true], [H13, 56, 2, 6, 0, true], [H14, 58, 2, 6, 0, true], [H15, 60, 2, 6, 0, true], [H16, 62, 6, 6, 0, true], [H17, 68, 8, 0, 0, true], [H18, 76, 7, 0, 0, true], [H19, 83, 6, 0, 0, true]]')
		assert_p('TextArea', 'Text', 'You must define the Fields all Records. Please update - detail')
		click('Right')
		assert_p('TextArea', 'Text', 'You must define the field Names in all Records, please update: store')
		assert_p('Table1', 'Content', '[[S, 15015, 15019, 35033, 13337, 207800015037, 15052, 15055, 15060, 25070, 15074, 1], [S, 15078, 15081, 15085, 15090, 15091, 15093, 15095, 15129, 15144, 15165, 1], [S, 15303, 15169, 15170, 15171, 15177, 15016, 15089, 25136, 15011, 15046, 1], [S, 15145, 15096, 25154, 15162, 15163, 15164, 15192, 15150, 15175, 1, 0], [S, 15036, 15043, 15045, 15057, 15065, 15069, 15076, 15079, 15094, 15128, 1], [S, 15151, 15180, 15072, 15173, 1, 0, 0, 0, 0, 0, 0], [S, 15015, 15019, 25037, 23533, 475100015070, 15078, 15093, 15095, 15129, 15144, 1], [S, 15165, 15170, 15171, 15016, 25089, 25136, 15011, 15046, 15096, 15154, 1], [S, 15162, 15163, 15164, 15192, 15175, 1, 0, 0, 0, 0, 0], [S, 15083, 15133, 15155, 13584, 475100015166, 15167, 15049, 15139, 15002, 15027, 1], [S, 15038, 15140, 15174, 15184, 1, 0, 0, 0, 0, 0, 0], [S, 15036, 15043, 15045, 13533, 475100015069, 15076, 15094, 15128, 15151, 15180, 1], [S, 15072, 15173, 1, 0, 0, 0, 0, 0, 0, 0, 0], [S, 15036, 15043, 15045, 15057, 15065, 15069, 15076, 15094, 15128, 15151, 1], [S, 15180, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0], [S, 15036, 15043, 15045, 15057, 15065, 15069, 15076, 15094, 15128, 15151, 1], [S, 15180, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0], [S, 15015, 15019, 15033, 15037, 15060, 15074, 15078, 15085, 15091, 15093, 1], [S, 15095, 15129, 15144, 15169, 15170, 15171, 15177, 15016, 15089, 15136, 1], [S, 15046, 15145, 15096, 15154, 15162, 15164, 15192, 15175, 1, 0, 0], [S, 15015, 15019, 15033, 15037, 15060, 15074, 15078, 15085, 15091, 15093, 1], [S, 15095, 15129, 15144, 15169, 15170, 15171, 15177, 15016, 15089, 15136, 1], [S, 15046, 15145, 15096, 15154, 15162, 15164, 15192, 15175, 1, 0, 0], [S, 15040, 15020, 15083, 15133, 15135, 15155, 15166, 15139, 15002, 15027, 1], [S, 15038, 15126, 15140, 15174, 15184, 1, 0, 0, 0, 0, 0], [S, 15040, 15020, 15083, 15133, 15135, 15155, 15166, 15139, 15002, 15027, 1], [S, 15038, 15126, 15140, 15174, 15184, 1, 0, 0, 0, 0, 0], [S, 15015, 25019, 65033, 25035, 25037, 65052, 25055, 25060, 25070, 15074, 6], [S, 15078, 65081, 15085, 45090, 25091, 55093, 35095, 35129, 65144, 35165, 1], [S, 15303, 15169, 45170, 25171, 25177, 55178, 35016, 25089, 35136, 15011, 1], [S, 15046, 35145, 45096, 65154, 55162, 55163, 35164, 25192, 25150, 25175, 2], [S, 15015, 25019, 75033, 25035, 25037, 65052, 25055, 25060, 25070, 25074, 6], [S, 15078, 75081, 25085, 45090, 25091, 65093, 35095, 35129, 65144, 35165, 2], [S, 15303, 25169, 45170, 25171, 25177, 65178, 35016, 25089, 35136, 25011, 2], [S, 15046, 35145, 45096, 65154, 55162, 55163, 35164, 25192, 25150, 25175, 2], [S, 15019, 55037, 55074, 55078, 55085, 45091, 55093, 35095, 35129, 55144, 3], [S, 15169, 35177, 65178, 35089, 35046, 35145, 45096, 55154, 45162, 45163, 3], [S, 15040, 25020, 25059, 15068, 15083, 15084, 25133, 25135, 25155, 25156, 2], [S, 15166, 35167, 25048, 25049, 25139, 25143, 25003, 25002, 25027, 25038, 2], [S, 15073, 25126, 25140, 25174, 35184, 2, 0, 0, 0, 0, 0], [S, 15040, 25020, 25059, 15068, 15083, 15084, 25133, 25135, 25155, 25156, 2], [S, 15166, 25167, 25048, 15049, 15139, 25143, 25003, 25010, 15062, 15138, 1], [S, 15141, 15002, 25027, 25038, 25073, 25126, 25140, 25174, 25184, 2, 0], [S, 15040, 15020, 15068, 15083, 15084, 15133, 15135, 15155, 15156, 15166, 2], [S, 15167, 15048, 15049, 15139, 15143, 15002, 15027, 25038, 25073, 15126, 1], [S, 15140, 15174, 25184, 1, 0, 0, 0, 0, 0, 0, 0], [S, 15036, 25043, 35045, 25057, 15065, 25069, 25076, 25079, 15094, 25128, 2], [S, 15151, 25180, 15072, 15173, 1, 0, 0, 0, 0, 0, 0], [S, 15036, 15043, 25045, 25057, 15065, 25069, 25076, 25079, 15094, 25128, 2], [S, 15151, 25180, 25072, 15173, 2, 0, 0, 0, 0, 0, 0], [S, 15043, 25045, 25065, 15076, 25128, 25151, 25180, 15072, 15173, 1, 0], [S, 15015, 25019, 45033, 25035, 25037, 45052, 25055, 25060, 25070, 25074, 3], [S, 15078, 45081, 25085, 35090, 25091, 45093, 35095, 45129, 45144, 45165, 2], [S, 15303, 25169, 25170, 25171, 25177, 45016, 45089, 35136, 25011, 35046, 2], [S, 15145, 35096, 45154, 45162, 45163, 35164, 25192, 25150, 25175, 2, 0], [S, 15015, 25019, 55033, 25037, 55060, 25070, 15074, 35078, 55085, 25090, 2], [S, 15091, 55093, 25095, 35129, 65144, 55165, 25169, 25170, 25171, 25177, 5], [S, 15178, 25016, 45089, 25136, 25011, 25046, 25145, 25096, 55154, 35162, 3], [S, 15163, 25164, 25192, 25175, 1, 0, 0, 0, 0, 0, 0]]')
		select('Table', 'cell:Start,2(7)')
		assert_p('Table', 'Content', '[[Record_Type, 1, 1, 0, 0, true], [, 2, 5, 6, 0, true], [, 7, 12, 6, 0, true], [, 19, 12, 6, 0, true], [, 31, 12, 6, 0, true], [, 43, 12, 6, 0, true], [, 55, 12, 6, 0, true], [, 67, 12, 6, 0, true], [, 79, 12, 6, 0, true], [, 91, 12, 6, 0, true], [, 103, 12, 6, 0, true], [, 115, 8, 6, 0, true]]')
#		select('Table', '')

		rightclick('Table', 'Field Name,1')
		select_menu('Generate Field Names')


		assert_p('Table', 'Content', '[[Record_Type, 1, 1, 0, 0, true], [S1, 2, 5, 6, 0, true], [S2, 7, 12, 6, 0, true], [S3, 19, 12, 6, 0, true], [S4, 31, 12, 6, 0, true], [S5, 43, 12, 6, 0, true], [S6, 55, 12, 6, 0, true], [S7, 67, 12, 6, 0, true], [S8, 79, 12, 6, 0, true], [S9, 91, 12, 6, 0, true], [S10, 103, 12, 6, 0, true], [S11, 115, 8, 6, 0, true]]')
		click('Right')
		select('TabbedPane', '')
		click('Pnl7SaveDbLayout', 264, 53)
		select('TextField', 'Wizard_xAmsPO')
		click('Right')
		select('Table', 'cell:2 - 5|S1,0(14535)')
		rightclick('Table', '1 - 1|Record_Type,0')
##		select('Table', 'cell:2 - 5|S1,0(14535)')
		select_menu('Edit Record')
##		select('Table1', 'cell:2 - 5|S1,0(14535)')
		assert_p('Table', 'Content', '[[Record_Type, 1, 1, H, H], [H1, 2, 6, 145357, 145357], [H2, 8, 10, 4338, 0000004338], [H3, 18, 12, 233863, 000000233863], [H4, 30, 2, 4, 04], [H5, 32, 4, 929, 0929], [H6, 36, 8, , ], [H7, 44, 2, 0, 00], [H8, 46, 2, , ], [H9, 48, 3, 290, 290], [H10, 51, 1, , ], [H11, 52, 2, 5, 05], [H12, 54, 2, 1, 01], [H13, 56, 2, 3, 03], [H14, 58, 2, 5, 05], [H15, 60, 2, 1, 01], [H16, 62, 6, 75966, 075966], [H17, 68, 8, , ], [H18, 76, 7, OPTIONS, OPTIONS], [H19, 83, 6,  PLCFT,  PLCFT]]')
		click('Right')
		assert_p('Table', 'Content', '[[Record_Type, 1, 1, D, D], [D1, 2, 1, 1, 1], [D2, 3, 5, 44, 00044], [D3, 8, 15, 11840, 000000000011840], [D4, 23, 15, 0, 000000000000000], [D5, 38, 1, , ], [D6, 39, 8, 45872078, 45872078], [D7, 47, 11, 4544, 00000004544], [D8, 58, 7, 44, 0000044], [D9, 65, 7, , ], [D10, 72, 1, 2, 2], [D11, 73, 6, 117093, 117093], [D12, 79, 8, , ], [D13, 87, 8, 45872078, 45872078], [D14, 95, 7, , ], [D15, 102, 2, MT, MT], [D16, 104, 2, H5, H5], [D17, 106, 11, 033H DUSTY, 033H DUSTY], [D18, 117, 35, PINK L/S FANCY CREW C\'MERE CARDIGAN, PINK L/S FANCY CREW C\'MERE CARDIGAN]]')
		click('Right')
		assert_p('Table', 'Content', '[[Record_Type, 1, 1, S, S], [S1, 2, 5, 15015, 15015], [S2, 7, 12, 15019, 000000015019], [S3, 19, 12, 35033, 000000035033], [S4, 31, 12, 13337, 000000013337], [S5, 43, 12, 207800015037, 207800015037], [S6, 55, 12, 15052, 000000015052], [S7, 67, 12, 15055, 000000015055], [S8, 79, 12, 15060, 000000015060], [S9, 91, 12, 25070, 000000025070], [S10, 103, 12, 15074, 000000015074], [S11, 115, 8, 1, 00000001]]')
		click('Right')
		assert_p('Table', 'Content', '[[Record_Type, 1, 1, S, S], [S1, 2, 5, 15078, 15078], [S2, 7, 12, 15081, 000000015081], [S3, 19, 12, 15085, 000000015085], [S4, 31, 12, 15090, 000000015090], [S5, 43, 12, 15091, 000000015091], [S6, 55, 12, 15093, 000000015093], [S7, 67, 12, 15095, 000000015095], [S8, 79, 12, 15129, 000000015129], [S9, 91, 12, 15144, 000000015144], [S10, 103, 12, 15165, 000000015165], [S11, 115, 8, 1, 00000001]]')
		click('BasicInternalFrameTitlePane$NoFocusButton2')
		select('Table', 'cell:2 - 5|S1,0(14535)')
		select('Table', 'cell:2 - 5|S1,0(14535)')
		click('BasicInternalFrameTitlePane$NoFocusButton2')
		click('Open')
		select('ComboBox1', 'Ams')
		click('Edit1')
		click('BasicInternalFrameTitlePane$NoFocusButton2')
		select_menu('Record Layouts>>Edit Layout')
		select('TextField', 'Wizard_xAmsPO')
		select('TabbedPane', 'Extras')
		select('TabbedPane', 'Extras')
		select('TabbedPane', 'Child Records')
		select('ChildRecordsJTbl', 'cell:Field,0(Record_Type)')
		assert_p('ChildRecordsJTbl', 'Text', 'Record_Type', 'Field,0')
		select('ChildRecordsJTbl', 'cell:Field Value,0(H)')
		assert_p('ChildRecordsJTbl', 'Text', 'H', 'Field Value,0')
		select('ChildRecordsJTbl', 'cell:Field Value,1(D)')
		assert_p('ChildRecordsJTbl', 'Text', 'D', 'Field Value,1')
		select('ChildRecordsJTbl', 'cell:Field Value,2(S)')
		assert_p('ChildRecordsJTbl', 'Text', 'S', 'Field Value,2')
		select('ChildRecordsJTbl', 'cell:Field,2(Record_Type)')
		assert_p('ChildRecordsJTbl', 'Text', 'Record_Type', 'Field,2')
		select('ChildRecordsJTbl', 'cell:Field,2(Record_Type)')
		click('Delete3')

		if window('Delete: Wizard_xAmsPO'):
			click('Yes')
		close()

#		select('TabbedPane', 'Extras')
#		select('TabbedPane', 'Extras')
#		select('TabbedPane', 'Fields')
#		select('TabbedPane', 'Extras')
#		select('TabbedPane', 'Extras')
#		select('TabbedPane', 'Fields')
		click('BasicInternalFrameTitlePane$NoFocusButton2')
	close()
