useFixture(RecordEditor)

def test():
	from Modules import commonBits
	java_recorded_version = '1.6.0_03'

	if window('Record Editor'):
		select('FileChooser', commonBits.sampleDir() + 'Ams_LocDownload_20041228.txt')
		click(commonBits.fl('Edit') + '1')
		select('Table', 'cell:1 - 3|Brand Id,2(TAR)')
		rightclick('Table', '1 - 3|Brand Id,2')
		select_menu(commonBits.fl('Edit Record'))
##		select('Table1', 'cell:1 - 3|Brand Id,2(TAR)')
		click('Find1')
		select('TextField', 'liverpool')
##		click('MetalInternalFrameTitlePane', 170, 14)
		commonBits.find(click)
##		click('MetalInternalFrameTitlePane', 271, 7)
		select('Table', 'cell:' + commonBits.fl('Data') + ',3(Liverpool)')
		assert_p('Table', 'Text', 'Liverpool', commonBits.fl('Data') + ',3')
		select('Table', 'cell:' + commonBits.fl('Data') + ',4(Westfield Phoenix Plaza)')
		assert_p('Table', 'Text', 'Northumberland Street', commonBits.fl('Data') + ',5')
		select('Table', 'cell:' + commonBits.fl('Data') + ',5(Northumberland Street)')
		assert_p('Table', 'Content', '[[Brand Id, 1, 3, TAR, TAR], [Loc Nbr, 4, 4, 5093, 5093], [Loc Type, 8, 2, ST, ST], [Loc Name, 10, 35, Liverpool, Liverpool], [Loc Addr Ln1, 45, 40, Westfield Phoenix Plaza, Westfield Phoenix Plaza], [Loc Addr Ln2, 85, 40, Northumberland Street, Northumberland Street], [Loc Addr Ln3, 125, 35, Liverpool, Liverpool], [Loc Postcode, 160, 10, 2170, 2170], [Loc State, 170, 3, NSW, NSW], [Loc Actv Ind, 173, 1, A, A]]')
		select('Table', 'cell:' + commonBits.fl('Data') + ',5(Northumberland Street)')
##		click('MetalInternalFrameTitlePane', 224, 20)
		commonBits.find(click)
		select('TextField', 'target')
		commonBits.find(click)
##		click('MetalInternalFrameTitlePane', 406, 15)
		select('Table', 'cell:' + commonBits.fl('Data') + ',4(Target Canberra)')
		assert_p('Table', 'Text', 'Target Canberra', commonBits.fl('Data') + ',4')
		select('Table', 'cell:' + commonBits.fl('Data') + ',5(Canberra City Centre, Akuna Ave)')
		assert_p('Table', 'Text', 'Canberra', commonBits.fl('Data') + ',6')
		select('Table', 'cell:' + commonBits.fl('Data') + ',6(Canberra)')
		assert_p('Table', 'Content', '[[Brand Id, 1, 3, TAR, TAR], [Loc Nbr, 4, 4, 5096, 5096], [Loc Type, 8, 2, ST, ST], [Loc Name, 10, 35, Canberra Civic, Canberra Civic], [Loc Addr Ln1, 45, 40, Target Canberra, Target Canberra], [Loc Addr Ln2, 85, 40, Canberra City Centre, Akuna Ave, Canberra City Centre, Akuna Ave], [Loc Addr Ln3, 125, 35, Canberra, Canberra], [Loc Postcode, 160, 10, 2601, 2601], [Loc State, 170, 3, ACT, ACT], [Loc Actv Ind, 173, 1, A, A]]')
		select('Table', 'cell:' + commonBits.fl('Data') + ',6(Canberra)')
		commonBits.closeWindow(click)
		##click('BasicInternalFrameTitlePane$NoFocusButton2')
		select('Table', 'cell:1 - 3|Brand Id,2(TAR)')
	close()
