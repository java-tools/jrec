useFixture(default)

def test():
	from Modules import commonBits
	java_recorded_version = '1.5.0_11'

	if window('Record Editor'):
		select('FileChooser', commonBits.sampleDir() + 'Ams_PODownload_20041231.txt')
		click('Edit1')
		select_menu('View>>Record Based Tree')
		select('Table', '1', 'Parent Record,0')
		select('Table', '0', 'Parent Record,2')
		select('Table', 'cell:Parent Record,2(0)')
		click('Build')
		#select('JTreeTable', '')
		rightclick('JTreeTable', 'Record Type,0')
		select_menu('Expand Tree')
		select('JTreeTable', 'cell:Record Type,2(D1)')
		click('Delete1')
		select('JTreeTable', 'cell:Sequence Number,2(0.048)')
		assert_p('JTreeTable', 'Text', '0.004', 'Sequence Number,3')
		select('JTreeTable', 'cell:PO,2(148320000000)')
		assert_p('JTreeTable', 'RowCount', '11')
		select('JTreeTable', 'cell:PO,3(148320000000)')
		assert_p('JTreeTable', 'Content', '[[, , H1, 45.349, 6060, 286225, 040909, , 00, , 200, 050102, 050107, , , , LADIES KNI, C, FT], [, , D1, 0.007, 0, 222225, 000000, 00 43314, 53, 10, 0000, 005454, 000000, ,    207, 5, 359, , 45], [, , D1, 0.048, 0, 148320000000, 000000, 00 55615, 07, 10, 0000, 005454, 000004, ,    207, 5, 361, , 55], [, , D1, 0.004, 0, 148320000000, 000000, 00 55615, 15, 60, 0000, 005454, 000000, ,    207, 5, 362, , 55], [, , H1, 45.350, 6228, 222227, 040909, , 00, , 200, 050102, 050107, , , , LADIES KNI, C, FT], [, , H1, 45.351, 6228, 222243, 040909, , 00, , 200, 050102, 050107, , , , LADIES KNI, C, FT], [, , H1, 45.352, 5341, 294915, 041013, , 00, , 475, 041231, 050107, P, , , WOMENS SHO, C, FT], [, , H1, 45.353, 5341, 294987, 041013, , 00, , 475, 041231, 050107, P, , , WOMENS SHO, C, FT], [, , H1, 45.354, 5341, 295139, 041013, , 00, , 475, 041231, 050107, P, , , WOMENS SHO, C, FT], [, , H1, 45.355, 5341, 303662, 041110, , 00, , 310, 041231, 050107, P, , , YOUTH SHOE, C, FT], [, , H1, 45.356, 5341, 304100, 041111, , 00, , 310, 041231, 050107, P, , , YOUTH SHOE, C, FT]]')
		select('JTreeTable', 'cell:PO,3(148320000000)')
		select_menu('Window>>Ams_PODownload_20041231.txt>>Tree View')
		select('JTreeTable', 'cell:PO,3(148320000000)')
		select_menu('Window>>Ams_PODownload_20041231.txt>>Table: ')
		select('JTreeTable', 'cell:PO,3(148320000000)')
		select('Table', 'cell:15 - 4|DC Number 2,2(5045)')
		assert_p('Table', 'RowCount', '68')
		select('Table', 'cell:15 - 4|DC Number 2,2(5045)')
		select_menu('Window>>Ams_PODownload_20041231.txt>>Tree View')
		select('Table', 'cell:15 - 4|DC Number 2,2(5045)')
		select('JTreeTable', 'rows:[1,2,3],columns:[Record Type]')
		select_menu('View>>Table View #{Selected Records#}')
		select('JTreeTable', 'rows:[1,2,3],columns:[Record Type]')
		select('Table', 'cell:3 - 4|DC Number 1,1(5043)')
		assert_p('Table', 'Text', '5043', '3 - 4|DC Number 1,1')
		select('Table', 'cell:3 - 4|DC Number 1,3(5036)')
		assert_p('Table', 'Content', '[[D1, 0, 70000000, 0, 222, 4331, 45310000, 5, 45400000, 7, 207, 5359, , 4561, 4531, D, ONKEY 24, -6, 607 SHWL], [S1, 5043, 1, 5045, 1, 5076, 1, 5079, 1, 5151, 1, 5072, 1, , 0, , 0, , 0], [D1, 4, 80000000, 1, 48320000, 5561, 50710000, 5, 45400000, 48, 207, 5361, , 5561, 5071, M, .ROSE 24, -6, 607 SHWL], [S1, 5036, 3, 5043, 5, 3331, 50710003, 5065, 4, 5069, 4, 5076, 4, 5079, 2, 5094, 4, 5128, 3], [S1, 5151, 4, 5180, 3, 5173, 2, , 0, , 0, , 0, , 0, , 0, , 0], [D1, 0, 40000000, 1, 48320000, 5561, 51560000, 5, 45400000, 4, 207, 5362, , 5561, 5156, A, QUA 24-0, 660, 7 SHWL W], [S1, 5043, 1, 5045, 1, 3331, 51560001, , 0, , 0, , 0, , 0, , 0, , 0]]')
		select('Table', 'cell:3 - 4|DC Number 1,6(5043)')
		assert_p('Table', 'RowCount', '7')
		select('Table', 'cell:3 - 4|DC Number 1,6(5043)')
		click('BasicInternalFrameTitlePane$NoFocusButton2')
		select('JTreeTable', 'rows:[1,2,3],columns:[Record Type]')
		rightclick('JTreeTable', 'Tree,2')
		select_menu('Expand Tree')
		select('JTreeTable', 'cell:Tree,3(null)')
		click('Delete1')
		select('JTreeTable', 'cell:Vendor,3(4518)')
		assert_p('JTreeTable', 'Text', 'cell:Vendor,3(4518)')
		select('JTreeTable', 'cell:PO,3(3507)')
		assert_p('JTreeTable', 'Content', '[[, , H1, 45.349, 6060, 286225, 040909, , 00, , 200, 050102, 050107, , , , LADIES KNI, C, FT], [, , D1, 0.007, 0, 222225, 000000, 00 43314, 53, 10, 0000, 005454, 000000, ,    207, 5, 359, , 45], [, , D1, 0.048, 0, 148320000000, 000000, 00 55615, 07, 10, 0000, 005454, 000004, ,    207, 5, 361, , 55], [, , S1, 51.510, 4518, 3507, 200000, 00251730, 00, 00, 002,    000, 00000, 0, 000000, ,    0000000, 0, ], [, , D1, 0.004, 0, 148320000000, 000000, 00 55615, 15, 60, 0000, 005454, 000000, ,    207, 5, 362, , 55], [, , H1, 45.350, 6228, 222227, 040909, , 00, , 200, 050102, 050107, , , , LADIES KNI, C, FT], [, , H1, 45.351, 6228, 222243, 040909, , 00, , 200, 050102, 050107, , , , LADIES KNI, C, FT], [, , H1, 45.352, 5341, 294915, 041013, , 00, , 475, 041231, 050107, P, , , WOMENS SHO, C, FT], [, , H1, 45.353, 5341, 294987, 041013, , 00, , 475, 041231, 050107, P, , , WOMENS SHO, C, FT], [, , H1, 45.354, 5341, 295139, 041013, , 00, , 475, 041231, 050107, P, , , WOMENS SHO, C, FT], [, , H1, 45.355, 5341, 303662, 041110, , 00, , 310, 041231, 050107, P, , , YOUTH SHOE, C, FT], [, , H1, 45.356, 5341, 304100, 041111, , 00, , 310, 041231, 050107, P, , , YOUTH SHOE, C, FT]]')
		select('JTreeTable', 'cell:Entry Date,3(200000)')
		assert_p('JTreeTable', 'RowCount', '12')
		select('JTreeTable', 'rows:[1,2,3],columns:[Tree]')
		click('BasicInternalFrameTitlePane$NoFocusButton2')
		click('BasicInternalFrameTitlePane$NoFocusButton2')
		click('BasicInternalFrameTitlePane$NoFocusButton2')

		if window('Save Changes to file: ' + commonBits.sampleDir() + 'Ams_PODownload_20041231.txt'):
			click('No')
		close()
	close()
