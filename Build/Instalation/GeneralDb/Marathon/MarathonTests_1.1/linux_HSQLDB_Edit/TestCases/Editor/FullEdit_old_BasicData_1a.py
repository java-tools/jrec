useFixture(default)

def test():
	from Modules import commonBits
	java_recorded_version = '1.5.0_11'

	if window('Record Editor'):
		select('FileChooser', commonBits.sampleDir() +  'Ams_LocDownload_20041228.txt')
		commonBits.setRecordLayout(select, 'ams Store')
		click('Edit1')
		select_menu('Data>>Filter')
		select('Table1', 'cell:Field,0(Brand Id)')
		assert_p('Table1', 'Text', 'Brand Id', 'Field,0')
		select('Table1', 'false', 'Include,0')
		select('Table1', 'cell:Include,0(false)')
		###assert_p('Table1', 'Text', 'false', 'Include,0')
		select('Table1', 'cell:Include,0(false)')
		click('Uncheck Fields')
		select('Table1', 'cell:Field,2(Loc Type)')
		assert_p('Table1', 'Text', 'Loc Type', 'Field,2')
		select('Table1', 'cell:Field,2(Loc Type)')
		click('Check Fields')
		select('Table1', 'cell:Field,3(Loc Name)')
		assert_p('Table1', 'Text', 'Loc Name', 'Field,3')
		select('Table1', 'cell:Field,3(Loc Name)')
		select('Table2', 'Loc Type', 'Field,0')
		select('Table2', 'dc', 'Value,0')
		select('Table2', 'cell:Value,0()')
		click('Filter')
		assert_p('Table', 'Text', 'WA Ad Support', '10 - 35|Loc Name,3')
		assert_p('Table', 'Text', 'State Warehouse SA', '10 - 35|Loc Name,16')
		assert_p('Table', 'Text', ' Building B, Portside Distribution Ce', '45 - 40|Loc Addr Ln1,20')
		select_menu('Data>>Sort')
		select('List', 'ams Store')
		select('Table', 'Loc Name', 'Field,0')
		select('Table', 'cell:Field,0(Loc Name)')
		click('Sort')
		assert_p('Table', 'Text', 'Canning Vale DC', '10 - 35|Loc Name,1')
		assert_p('Table', 'Text', 'Huntingwood DC', '10 - 35|Loc Name,6')
		assert_p('Table', 'Text', 'Canning Vale DC', '10 - 35|Loc Name,1')
		select('Table', 'cell:4 - 4|Loc Nbr,1(5965)')
		assert_p('Table', 'Text', '5965', '4 - 4|Loc Nbr,1')
		select('Table', 'cell:4 - 4|Loc Nbr,1(5965)')
		select_menu('Data>>Sort')
##		select('Table1', 'cell:4 - 4|Loc Nbr,1(5965)')
		select('List', 'ams Store')
		select('Table', 'Loc Nbr', 'Field,0')
		select('Table', 'cell:Field,0(Loc Nbr)')
		click('Sort')
		select('Table', 'cell:4 - 4|Loc Nbr,0(5109)')
		assert_p('Table', 'Text', '5109', '4 - 4|Loc Nbr,0')
		select('Table', 'cell:4 - 4|Loc Nbr,1(5700)')
		assert_p('Table', 'Text', '5700', '4 - 4|Loc Nbr,1')
		select('Table', 'cell:4 - 4|Loc Nbr,2(5839)')
		assert_p('Table', 'Text', '5839', '4 - 4|Loc Nbr,2')
		select('Table', 'cell:4 - 4|Loc Nbr,2(5839)')
		click('BasicInternalFrameTitlePane$NoFocusButton2')
		click('BasicInternalFrameTitlePane$NoFocusButton2')
	close()
