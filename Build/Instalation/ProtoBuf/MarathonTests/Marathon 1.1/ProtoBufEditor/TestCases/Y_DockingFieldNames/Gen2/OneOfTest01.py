useFixture(default)

def test():
	from Modules import commonBits
	java_recorded_version = '1.7.0_51'

	if window(commonBits.applicationName()):
		select('File_Txt', commonBits.sampleDir() + 'oneOfTest.bin')
		select('Proto Definition_Txt', commonBits.stdCopybookDir() + 'oneOfTest.protocomp')
		click('Edit1')
		select('TabbedPane', 'Record: ')
		assert_p('LineFrameTree.FileDisplay_JTbl', 'Content', '[[name, 1, , STRING, , ], [intFld, 2, , INT32, , ], [strFld, 3, , STRING, , ], [doubleFld, 4, , DOUBLE, , ], [boolFld, 5, , BOOL, , ], [typeOfSale, 6, , ENUM, , ], [intFld2, 7, , INT32, , ], [strFld2, 8, , STRING, , ], [doubleFld2, 9, , DOUBLE, , ], [boolFld2, 10, , BOOL, , ], [typeOfSale2, 11, , ENUM, , ]]')
		select('LineFrameTree.FileDisplay_JTbl', '11', 'Data,0')
		select('LineFrameTree.FileDisplay_JTbl', 'cell:Text,0(11)')
		assert_p('LineFrameTree.FileDisplay_JTbl', 'Content', '[[name, 1, , STRING, 11, 11], [intFld, 2, , INT32, , ], [strFld, 3, , STRING, , ], [doubleFld, 4, , DOUBLE, , ], [boolFld, 5, , BOOL, , ], [typeOfSale, 6, , ENUM, , ], [intFld2, 7, , INT32, , ], [strFld2, 8, , STRING, , ], [doubleFld2, 9, , DOUBLE, , ], [boolFld2, 10, , BOOL, , ], [typeOfSale2, 11, , ENUM, , ]]')
		select('LineFrameTree.FileDisplay_JTbl', '22', 'Data,1')
##		select('LineFrameTree.FileDisplay_JTbl', 'cell:Text,1(22)')
		select('LineFrameTree.FileDisplay_JTbl', '22', 'Data,1')
##		commonBits.doSleep()
		assert_p('LineFrameTree.FileDisplay_JTbl', 'Content', '[[name, 1, , STRING, 11, 11], [intFld, 2, , INT32, 22, 22], [strFld, 3, , STRING, , ], [doubleFld, 4, , DOUBLE, , ], [boolFld, 5, , BOOL, , ], [typeOfSale, 6, , ENUM, , ], [intFld2, 7, , INT32, , ], [strFld2, 8, , STRING, , ], [doubleFld2, 9, , DOUBLE, , ], [boolFld2, 10, , BOOL, , ], [typeOfSale2, 11, , ENUM, , ]]')
		select('LineFrameTree.FileDisplay_JTbl', '33', 'Data,2')
		select('LineFrameTree.FileDisplay_JTbl', 'cell:Text,2(33)')
		assert_p('LineFrameTree.FileDisplay_JTbl', 'Content', '[[name, 1, , STRING, 11, 11], [intFld, 2, , INT32, , ], [strFld, 3, , STRING, 33, 33], [doubleFld, 4, , DOUBLE, , ], [boolFld, 5, , BOOL, , ], [typeOfSale, 6, , ENUM, , ], [intFld2, 7, , INT32, , ], [strFld2, 8, , STRING, , ], [doubleFld2, 9, , DOUBLE, , ], [boolFld2, 10, , BOOL, , ], [typeOfSale2, 11, , ENUM, , ]]')
		select('LineFrameTree.FileDisplay_JTbl', 'cell:Text,2(33)')
		click('Tree View')
		select('TabbedPane', 'Tree View')
		assert_p('LineTreeChild.FileDisplay_JTbl', 'Content', '[[, , 11, , 33, , , , , , , , ]]')
		select('LineTreeChild.FileDisplay_JTbl', '44.0', 'doubleFld,0')
##		select('LineTreeChild.FileDisplay_JTbl', '')
		assert_p('LineTreeChild.FileDisplay_JTbl', 'Content', '[[, , 11, , , 44.0, , , , , , , ]]')
		click('Record:  TestOneOf')
		select('TabbedPane', 'Record: ')
		assert_p('LineFrameTree.FileDisplay_JTbl', 'Content', '[[name, 1, , STRING, 11, 11], [intFld, 2, , INT32, , ], [strFld, 3, , STRING, , ], [doubleFld, 4, , DOUBLE, 44.0, 44.0], [boolFld, 5, , BOOL, , ], [typeOfSale, 6, , ENUM, , ], [intFld2, 7, , INT32, , ], [strFld2, 8, , STRING, , ], [doubleFld2, 9, , DOUBLE, , ], [boolFld2, 10, , BOOL, , ], [typeOfSale2, 11, , ENUM, , ]]')
		select('LineFrameTree.FileDisplay_JTbl', 'true', 'Data,4')
##		select('LineFrameTree.FileDisplay_JTbl', 'cell:Data,3()')

##		if window('Conversion Error'):
##			click('OK')
##			click('Cancel')
##			assert_p('LineFrameTree.FileDisplay_JTbl', 'Content', '[[name, 1, , STRING, 11, 11], [intFld, 2, , INT32, , ], [strFld, 3, , STRING, , ], [doubleFld, 4, , DOUBLE, , ], [boolFld, 5, , BOOL, true, true], [typeOfSale, 6, , ENUM, , ], [intFld2, 7, , INT32, , ], [strFld2, 8, , STRING, , ], [doubleFld2, 9, , DOUBLE, , ], [boolFld2, 10, , BOOL, , ], [typeOfSale2, 11, , ENUM, , ]]')
##		close()

		select('LineFrameTree.FileDisplay_JTbl', 'OTHER', 'Data,5')
		select('LineFrameTree.FileDisplay_JTbl', 'cell:Text,5(OTHER)')
		assert_p('LineFrameTree.FileDisplay_JTbl', 'Content', '[[name, 1, , STRING, 11, 11], [intFld, 2, , INT32, , ], [strFld, 3, , STRING, , ], [doubleFld, 4, , DOUBLE, , ], [boolFld, 5, , BOOL, , ], [typeOfSale, 6, , ENUM, OTHER, OTHER], [intFld2, 7, , INT32, , ], [strFld2, 8, , STRING, , ], [doubleFld2, 9, , DOUBLE, , ], [boolFld2, 10, , BOOL, , ], [typeOfSale2, 11, , ENUM, , ]]')
		select('LineFrameTree.FileDisplay_JTbl', '11', 'Data,6')
		select('LineFrameTree.FileDisplay_JTbl', '11', 'Data,6')
##		select('LineFrameTree.FileDisplay_JTbl', 'cell:Text,6(11)')
##		commonBits.doSleep()
		assert_p('LineFrameTree.FileDisplay_JTbl', 'Content', '[[name, 1, , STRING, 11, 11], [intFld, 2, , INT32, , ], [strFld, 3, , STRING, , ], [doubleFld, 4, , DOUBLE, , ], [boolFld, 5, , BOOL, , ], [typeOfSale, 6, , ENUM, OTHER, OTHER], [intFld2, 7, , INT32, 11, 11], [strFld2, 8, , STRING, , ], [doubleFld2, 9, , DOUBLE, , ], [boolFld2, 10, , BOOL, , ], [typeOfSale2, 11, , ENUM, , ]]')
		select('LineFrameTree.FileDisplay_JTbl', '22', 'Data,7')
		select('LineFrameTree.FileDisplay_JTbl', 'cell:Text,7(22)')
		assert_p('LineFrameTree.FileDisplay_JTbl', 'Content', '[[name, 1, , STRING, 11, 11], [intFld, 2, , INT32, , ], [strFld, 3, , STRING, , ], [doubleFld, 4, , DOUBLE, , ], [boolFld, 5, , BOOL, , ], [typeOfSale, 6, , ENUM, OTHER, OTHER], [intFld2, 7, , INT32, , ], [strFld2, 8, , STRING, 22, 22], [doubleFld2, 9, , DOUBLE, , ], [boolFld2, 10, , BOOL, , ], [typeOfSale2, 11, , ENUM, , ]]')
		select('LineFrameTree.FileDisplay_JTbl', '33.0', 'Data,8')
		select('LineFrameTree.FileDisplay_JTbl', '33.0', 'Data,8')
##		select('LineFrameTree.FileDisplay_JTbl', 'cell:Text,8(33.0)')
		assert_p('LineFrameTree.FileDisplay_JTbl', 'Content', '[[name, 1, , STRING, 11, 11], [intFld, 2, , INT32, , ], [strFld, 3, , STRING, , ], [doubleFld, 4, , DOUBLE, , ], [boolFld, 5, , BOOL, , ], [typeOfSale, 6, , ENUM, OTHER, OTHER], [intFld2, 7, , INT32, , ], [strFld2, 8, , STRING, , ], [doubleFld2, 9, , DOUBLE, 33.0, 33.0], [boolFld2, 10, , BOOL, , ], [typeOfSale2, 11, , ENUM, , ]]')
		select('LineFrameTree.FileDisplay_JTbl', 'true', 'Data,9')
		select('LineFrameTree.FileDisplay_JTbl', 'cell:Text,8()')
		assert_p('LineFrameTree.FileDisplay_JTbl', 'Content', '[[name, 1, , STRING, 11, 11], [intFld, 2, , INT32, , ], [strFld, 3, , STRING, , ], [doubleFld, 4, , DOUBLE, , ], [boolFld, 5, , BOOL, , ], [typeOfSale, 6, , ENUM, OTHER, OTHER], [intFld2, 7, , INT32, , ], [strFld2, 8, , STRING, , ], [doubleFld2, 9, , DOUBLE, , ], [boolFld2, 10, , BOOL, true, true], [typeOfSale2, 11, , ENUM, , ]]')
		select('LineFrameTree.FileDisplay_JTbl', 'OTHER', 'Data,10')
		select('LineFrameTree.FileDisplay_JTbl', 'OTHER', 'Data,10')
		select('LineFrameTree.FileDisplay_JTbl', 'cell:Text,10(OTHER)')
		assert_p('LineFrameTree.FileDisplay_JTbl', 'Content', '[[name, 1, , STRING, 11, 11], [intFld, 2, , INT32, , ], [strFld, 3, , STRING, , ], [doubleFld, 4, , DOUBLE, , ], [boolFld, 5, , BOOL, , ], [typeOfSale, 6, , ENUM, OTHER, OTHER], [intFld2, 7, , INT32, , ], [strFld2, 8, , STRING, , ], [doubleFld2, 9, , DOUBLE, , ], [boolFld2, 10, , BOOL, , ], [typeOfSale2, 11, , ENUM, OTHER, OTHER]]')
		select('LineFrameTree.FileDisplay_JTbl', 'cell:Text,10(OTHER)')
		click('Tree View')
		select('TabbedPane', 'Tree View')
		select('LineTreeChild.FileDisplay_JTbl', 'cell:strFld,0()')
		assert_p('LineTreeChild.FileDisplay_JTbl', 'Content', '[[, , 11, , , , , OTHER, , , , , OTHER]]')
		select('LineTreeChild.FileDisplay_JTbl', 'cell:strFld,0()')
		click('DisplayFrame$TabButton1', 63, 22)
		select('TabbedPane', 'Record: ')
		click('New2')

		if window('Record Selection'):
			click('OK')
		close()

		select('TabbedPane', 'Record:')
		select('LineFrameTree.FileDisplay_JTbl1', '1', 'Data,2')
		select('LineFrameTree.FileDisplay_JTbl1', '11.0', 'Data,3')
		select('LineFrameTree.FileDisplay_JTbl1', '111', 'Data,0')
		select('LineFrameTree.FileDisplay_JTbl1', 'cell:Text,0(111)')
		assert_p('LineFrameTree.FileDisplay_JTbl1', 'Content', '[[item, 1, , STRING, 111, 111], [type, 2, , ENUM, OTHER, OTHER], [qty, 3, , INT32, 1, 1], [value, 4, , DOUBLE, 11.0, 11.0]]')
		select('LineFrameTree.FileDisplay_JTbl1', 'cell:Text,0(111)')
		click('Record:  TestOneOf')
		select('TabbedPane', 'Record: ')
		assert_p('LineFrameTree.FileDisplay_JTbl', 'Content', '[[name, 1, , STRING, 11, 11], [intFld, 2, , INT32, , ], [strFld, 3, , STRING, , ], [doubleFld, 4, , DOUBLE, , ], [boolFld, 5, , BOOL, , ], [typeOfSale, 6, , ENUM, , ], [intFld2, 7, , INT32, , ], [strFld2, 8, , STRING, , ], [doubleFld2, 9, , DOUBLE, , ], [boolFld2, 10, , BOOL, , ], [typeOfSale2, 11, , ENUM, OTHER, OTHER]]')
		click('Tree View')
		select('TabbedPane', 'Tree View')
##		select('LineTreeChild.FileDisplay_JTbl', '')
		rightclick('LineTreeChild.FileDisplay_JTbl', 'Tree,0')
		select_menu('Expand Tree')
		select('LineTreeChild.Layouts_Txt', 'Prefered')
		assert_p('LineTreeChild.FileDisplay_JTbl', 'Content', '[[, , 11, , , , , , , , , , OTHER], [, , 111, OTHER, 1, 11.0, , , , , , , ]]')
		click('Record:  TestOneOf')
		select('TabbedPane', 'Record: ')
		assert_p('LineFrameTree.FileDisplay_JTbl', 'Content', '[[name, 1, , STRING, 11, 11], [intFld, 2, , INT32, , ], [strFld, 3, , STRING, , ], [doubleFld, 4, , DOUBLE, , ], [boolFld, 5, , BOOL, , ], [typeOfSale, 6, , ENUM, , ], [intFld2, 7, , INT32, , ], [strFld2, 8, , STRING, , ], [doubleFld2, 9, , DOUBLE, , ], [boolFld2, 10, , BOOL, , ], [typeOfSale2, 11, , ENUM, OTHER, OTHER]]')
		click('New2')
##		select('TabbedPane', 'Record:')
		select('LineFrameTree.FileDisplay_JTbl2', '22', 'Data,0')
		select('LineFrameTree.FileDisplay_JTbl2', 'SALE', 'Data,1')
		select('LineFrameTree.FileDisplay_JTbl2', '2', 'Data,2')
		select('LineFrameTree.FileDisplay_JTbl2', '22.2', 'Data,3')
		select('LineFrameTree.FileDisplay_JTbl2', 'cell:Text,3(22.2)')
		assert_p('LineFrameTree.FileDisplay_JTbl2', 'Content', '[[item, 1, , STRING, 22, 22], [type, 2, , ENUM, SALE, SALE], [qty, 3, , INT32, 2, 2], [value, 4, , DOUBLE, 22.2, 22.2]]')
		select('LineFrameTree.FileDisplay_JTbl2', 'cell:Text,3(22.2)')
		click('Record:  TestOneOf')
		select('TabbedPane', 'Record: ')
		assert_p('LineFrameTree.FileDisplay_JTbl', 'Content', '[[name, 1, , STRING, 11, 11], [intFld, 2, , INT32, , ], [strFld, 3, , STRING, , ], [doubleFld, 4, , DOUBLE, , ], [boolFld, 5, , BOOL, , ], [typeOfSale, 6, , ENUM, , ], [intFld2, 7, , INT32, , ], [strFld2, 8, , STRING, , ], [doubleFld2, 9, , DOUBLE, , ], [boolFld2, 10, , BOOL, , ], [typeOfSale2, 11, , ENUM, , ]]')
		click('DisplayFrame$TabButton', 3, 4)
		select('TabbedPane', 'Tree View')
		assert_p('LineTreeChild.FileDisplay_JTbl', 'Content', '[[, , 11, , , , , , , , , , ], [, , 111, OTHER, 1, 11.0, , , , , , , ], [, , 22, SALE, 2, 22.2, , , , , , , ]]')
		click('BasicInternalFrameTitlePane$NoFocusButton2')

		if window(r'Save Changes to file: ' + commonBits.sampleDir() + 'oneOfTest.bin'):
			click('Yes')
		close()

		click('Edit1')
		select('LineTreeChild.Layouts_Txt', 'Prefered')
		assert_p('LineTreeChild.FileDisplay_JTbl', 'Content', '[[, , 11, , , , , , , , , , ], [, , 111, OTHER, 1, 11.0, , , , , , , ], [, , 22, SALE, 2, 22.2, , , , , , , ]]')
##		select('LineTreeChild.FileDisplay_JTbl', '')
		rightclick('LineTreeChild.FileDisplay_JTbl', 'Tree,0')

		select_menu('Edit Record')



####		select('TabbedPane', 'Record: ')
####		select('LineFrameTree.FileDisplay_JTbl', '22.0', 'Data,8')
####		select('LineFrameTree.FileDisplay_JTbl', '22.0', 'Data,8')
####		select('LineFrameTree.FileDisplay_JTbl', 'cell:Text,8(22.0)')
##		assert_p('LineFrameTree.FileDisplay_JTbl', 'Content', '[[name, 1, , STRING, 11, 11], [intFld, 2, , INT32, , ], [strFld, 3, , STRING, , ], [doubleFld, 4, , DOUBLE, , ], [boolFld, 5, , BOOL, , ], [typeOfSale, 6, , ENUM, , ], [intFld2, 7, , INT32, , ], [strFld2, 8, , STRING, , ], [doubleFld2, 9, , DOUBLE, 22.0, 22.0], [boolFld2, 10, , BOOL, , ], [typeOfSale2, 11, , ENUM, , ]]')
##		select('LineFrameTree.FileDisplay_JTbl', 'cell:Text,8(22.0)')
##		click('Tree View')
##		select('TabbedPane', 'Tree View')
##		click('Record:  TestOneOf')
##		select('TabbedPane', 'Record: ')
##		select('LineFrameTree.FileDisplay_JTbl', 'cell:Data,6()')
##		click('Tree View')
##		select('TabbedPane', 'Tree View')
##	close()

####	if window('Conversion Error(1)'):
####		click('Cancel')
####	close()

####	if window('Conversion Error'):
####		click('OK')
####	close()

##	if window(commonBits.applicationName()):
##		rightclick('LineTreeChild.FileDisplay_JTbl', 'Tree,0')
##		select_menu('Edit Record')
		select('TabbedPane', 'Record: ')
		click('Delete3')

##		select('LineTreeChild.FileDisplay_JTbl', 'all')
##		click('Delete2')
		click('Save1')
	close()
