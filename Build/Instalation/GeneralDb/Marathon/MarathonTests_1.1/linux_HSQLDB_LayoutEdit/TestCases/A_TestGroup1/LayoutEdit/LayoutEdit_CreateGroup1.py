useFixture(default)

def test():
	java_recorded_version = '1.5.0_11'

	if window('Record Layout Definitions'):
		click('*1')
		select('TextField', 'ZZ Create Group 1')
		select('TextField1', '%')
##		select('BmKeyedComboBox', '9')
		select('BmKeyedComboBox', 'Group of Records')
		select('TabbedPane', 'Extras')
		select('TabbedPane', 'Child Records')
		select('BmKeyedComboBox1', '9')
		click('Create Child')
		select('BmKeyedComboBox', '9')
		select('TabbedPane', 'Extras')
		select('TabbedPane', 'Child Records')
		select('TextField', 'ZZ - Create ')
		#click('WindowsInternalFrameTitlePane', 282, 13)
		#click('WindowsInternalFrameTitlePane', 200, 8)
		select('TextField', 'ZZ Create G Reord 1 ')
		#click('WindowsInternalFrameTitlePane', 282, 7)
		select('BmKeyedComboBox1', '9')
		select('TextField1', '2')
		click('Insert')
		#select('TabbedPane', 'Extras')
		#select('TabbedPane', 'Child Records')
		#select('TabbedPane', 'Extras')
		#select('TabbedPane', 'Child Records')
		select('ChildRecordsJTbl', 'rows:[0,1],columns:[]')
		click('Delete2')
		select('BmKeyedComboBox', '1')
		select('TabbedPane', 'Extras')
		select('TabbedPane', 'Fields')
		click('Insert')
		select('RecordFieldsJTbl', '1', 'Position,0')
		select('RecordFieldsJTbl', '10', 'Length,0')
		select('RecordFieldsJTbl', 'c10', 'FieldName,0')
		select('RecordFieldsJTbl', '112', 'FieldType,0')
		select('RecordFieldsJTbl', '11', 'Position,1')
		select('RecordFieldsJTbl', '20', 'Length,1')
		select('RecordFieldsJTbl', 'c20', 'FieldName,1')
		select('RecordFieldsJTbl', 'cell:FieldName,1()')
		click('Save1')
		click('Save As')

		if window('Input'):
			select('OptionPane.textField', 'ZZ Create G Record 2')
			click('OK')
		close()

		select('TabbedPane', 'Extras')
		select('TabbedPane', 'Fields')
		select('TextField', 'ZZ Create G Record 3')
		select('RecordFieldsJTbl', 'c20', 'FieldName,0')
		select('RecordFieldsJTbl', 'c10', 'FieldName,1')
		select('RecordFieldsJTbl', '10', 'Length,1')
		select('RecordFieldsJTbl', '20', 'Length,0')
		select('RecordFieldsJTbl', 'cell:FieldName,1(c10)')
		click('Save1')
		click('Save1')
		click('New1')
		#select('TabbedPane', 'Extras')
		#select('TabbedPane', 'Child Records')
		select('TextField', 'ZZ Create g Record 4')
		select('BmKeyedComboBox', '1')
		select('TabbedPane', 'Extras')
		select('TabbedPane', 'Fields')
		click('Insert')
		click('Insert')
		select('TabbedPane', 'Extras')
		select('TabbedPane', 'Fields')
		click('Insert')
		click('BasicInternalFrameTitlePane$NoFocusButton2')
		click('Edit Child')
		select('RecordFieldsJTbl', 'cell:Description,0()')
		assert_p('RecordFieldsJTbl', 'Content', '[[1, 10, c10, , 112, 0, 0, , , ], [11, 20, c20, , 0, 0, 0, , , ]]')
		select('RecordFieldsJTbl', 'cell:Description,0()')
		click('Right')
		select('TabbedPane', 'Extras')
		select('TabbedPane', 'Fields')
		select('RecordFieldsJTbl', 'cell:Description,0()')
		assert_p('RecordFieldsJTbl', 'Content', '[[1, 20, c20, , 112, 0, 0, , , ], [11, 10, c10, , 0, 0, 0, , , ]]')
		select('RecordFieldsJTbl', 'cell:Description,0()')
		assert_p('Label', 'Text', 'Record Name')
		click('Right')
		select('TabbedPane', 'Extras')
		select('TabbedPane', 'Fields')
		assert_p('Label', 'Text', 'Record Name')
		click('BasicInternalFrameTitlePane$NoFocusButton2')
		select('ChildRecordsJTbl', 'cell:,2(0)')
		rightclick('ChildRecordsJTbl', ',2')
		select_menu('Edit Child Record')
		select('ChildRecordsJTbl', 'cell:,2(0)')
		select('TextField1', '2')
		click('Insert')
		select('RecordFieldsJTbl', '1', 'Position,0')
		select('RecordFieldsJTbl', '5', 'Length,0')
		select('RecordFieldsJTbl', 'c5', 'FieldName,0')
		select('RecordFieldsJTbl', '6', 'Position,1')
		select('RecordFieldsJTbl', '25', 'Length,1')
		select('RecordFieldsJTbl', 'c25', 'FieldName,1')
		select('RecordFieldsJTbl', 'cell:FieldName,1()')
		click('Save1')
		click('BasicInternalFrameTitlePane$NoFocusButton2')
		select('ChildRecordsJTbl', 'cell:,0(0)')
		rightclick('ChildRecordsJTbl', ',0')
		select_menu('Edit Child Record')
		select('ChildRecordsJTbl', 'cell:,0(0)')
		click('Right')
		select('TabbedPane', 'Extras')
		select('TabbedPane', 'Fields')
		click('Right')
		select('TabbedPane', 'Extras')
		select('TabbedPane', 'Fields')
		select('RecordFieldsJTbl', 'cell:Description,0()')
		assert_p('RecordFieldsJTbl', 'Text', '', 'Description,0')
		select('RecordFieldsJTbl', 'cell:Description,1()')
		#assert_p('RecordFieldsJTbl', 'Content', '[[1, 5, c5, , 0, 0, 0, , , ], [6, 25, c25, , 0, 0, 0, , , ]]')
		select('RecordFieldsJTbl', 'cell:FieldName,0(c5)')
		assert_p('RecordFieldsJTbl', 'RowCount', '2')
		#assert_p('RecordFieldsJTbl', 'RowCount', '8')
		select('RecordFieldsJTbl', 'cell:FieldName,1(c25)')
		click('BasicInternalFrameTitlePane$NoFocusButton2')
		click('Save1')
		click('BasicInternalFrameTitlePane$NoFocusButton2')
		click('*')
		select('TextField', 'ZZ Create Group%')
		select('TabbedPane', 'Extras')
		select('TabbedPane', 'Child Records')
		select('ChildRecordsJTbl', 'cell:,0(0)')
##		assert_p('ChildRecordsJTbl', 'Content', '[[, 414, 0, , , -1], [, 418, 0, , , -1], [, 419, 0, , , -1]]')
		startVal = 419
		assert_p('ChildRecordsJTbl', 'Content', '[[, '+ str(startVal) + ', 0, , , -1], [, '+ str(startVal+1) + ', 0, , , -1], [, '+ str(startVal+2) + ', 0, , , -1], [, 0, 0, , , 0], [, 0, 0, , , 0]]')
		select('ChildRecordsJTbl', 'cell:,2(0)')
		assert_p('ChildRecordsJTbl', 'RowCount', '5')
		select('ChildRecordsJTbl', 'cell:,0(0)')
		click('Delete2')
		select('ChildRecordsJTbl', 'cell:,0(0)')
##		assert_p('ChildRecordsJTbl', 'Content', '[[, 419, 0, , , -1], [, 420, 0, , , -1]]')
		assert_p('ChildRecordsJTbl', 'Content', '[[, '+ str(startVal+1) + ', 0, , , -1], [, '+ str(startVal+2) + ', 0, , , -1], [, 0, 0, , , 0], [, 0, 0, , , 0]]')
		select('ChildRecordsJTbl', 'cell:,1(0)')
		rightclick('ChildRecordsJTbl', ',1')
		select_menu('Delete Record#{s#}')
		select('ChildRecordsJTbl', 'cell:,0(0)')
#		assert_p('ChildRecordsJTbl', 'Content', '[[, 419, 0, , , -1]]')
		assert_p('ChildRecordsJTbl', 'Content', '[[, '+ str(startVal+1) + ', 0, , , -1], [, 0, 0, , , 0], [, 0, 0, , , 0]]')
		select('ChildRecordsJTbl', 'cell:Field,0()')
		assert_p('ChildRecordsJTbl', 'RowCount', '3')
		select('ChildRecordsJTbl', 'cell:Field,0()')
		click('Delete3')

		if window('Delete: ZZ Create Group 1'):
			click('Yes')
		close()

		select('TabbedPane', 'Extras')
		#select('TabbedPane', 'Child Records')
		#select('TabbedPane', 'Extras')
		#select('TabbedPane', 'Child Records')
		select('TextField', 'ZZ Create G%')
		select('TextField', 'ZZ Create G Record 3%')
		select('TextField1', '%')

		#select('RecordFieldsJTbl', 'cell:Description,0()')
		assert_p('RecordFieldsJTbl', 'Content', '[[1, 20, c20, , 112, 0, 0, , , ], [11, 10, c10, , 0, 0, 0, , , ]]')
		select('RecordFieldsJTbl', 'cell:Description,0()')
		assert_p('TextField2', 'Text', 'ZZ Create G Record 3')
		select('RecordFieldsJTbl', 'cell:FieldName,1(c10)')
		rightclick('RecordFieldsJTbl', 'FieldName,1')
		select_menu('Delete Record#{s#}')
		select('RecordFieldsJTbl', 'cell:Description,0()')
		assert_p('RecordFieldsJTbl', 'RowCount', '1')
		select('RecordFieldsJTbl', 'cell:FieldName,0(c20)')
		assert_p('RecordFieldsJTbl', 'Content', '[[1, 20, c20, , 112, 0, 0, , , ]]')
		select('RecordFieldsJTbl', 'cell:FieldName,0(c20)')
		click('Delete3')

		if window('Delete: ZZ Create G Record 3'):
			click('Yes')
		close()

		#select('TabbedPane', 'Extras')
		#select('TabbedPane', 'Child Records')
		#select('TabbedPane', 'Extras')
		#select('TabbedPane', 'Child Records')
		select('TextField', 'ZZ Create G Record%')
		#select('TabbedPane', 'Extras')
		#select('TabbedPane', 'Fields')
		#@select('TabbedPane', 'Extras')
		#select('TabbedPane', 'Fields')
		select('RecordFieldsJTbl', 'cell:Description,0()')
		#assert_p('RecordFieldsJTbl', 'Content', '[[1, 5, c5, , 0, 0, 0, , , ], [6, 25, c25, , 0, 0, 0, , , ]]')
		select('RecordFieldsJTbl', 'cell:FieldName,1(c25)')
		rightclick('RecordFieldsJTbl', 'FieldName,1')
		select_menu('Delete Record#{s#}')
		select('RecordFieldsJTbl', 'cell:FieldName,0(c5)')
		#assert_p('RecordFieldsJTbl', 'Content', '[[1, 5, c5, , 0, 0, 0, , , ]]')
		select('RecordFieldsJTbl', 'cell:FieldName,0(c5)')
		assert_p('TextField2', 'Text', 'ZZ Create g Record 4')
		click('Delete3')

		if window('Delete: ZZ Create g Record 4'):
			click('Yes')
		close()

		#select('TabbedPane', 'Extras')
		#select('TabbedPane', 'Child Records')
		#select('TabbedPane', 'Extras')
		#select('TabbedPane', 'Child Records')
		select('TextField', 'ZZ Create G R%')
		#select('TabbedPane', 'Extras')
		#select('TabbedPane', 'Fields')
		#select('TabbedPane', 'Extras')
		#select('TabbedPane', 'Fields')
		select('RecordFieldsJTbl', 'cell:FieldName,0(c10)')
		assert_p('RecordFieldsJTbl', 'Content', '[[1, 10, c10, , 112, 0, 0, , , ], [11, 20, c20, , 0, 0, 0, , , ]]')
		select('RecordFieldsJTbl', 'cell:FieldName,1(c20)')
		click('Delete2')
		select('RecordFieldsJTbl', 'cell:FieldName,0(c10)')
		assert_p('RecordFieldsJTbl', 'Content', '[[1, 10, c10, , 112, 0, 0, , , ]]')
		select('RecordFieldsJTbl', 'cell:Description,0()')
		select('RecordFieldsJTbl', 'cell:FieldName,0(c10)')
		assert_p('RecordFieldsJTbl', 'RowCount', '1')
		select('RecordFieldsJTbl', 'cell:FieldName,0(c10)')
		assert_p('TextArea', 'Text', '')
		click('Delete3')

		if window('Delete: ZZ Create G Reord 1 '):
			click('Yes')
		close()

		#select('TabbedPane', 'Extras')
		#select('TabbedPane', 'Child Records')
		#select('TabbedPane', 'Extras')
		#select('TabbedPane', 'Child Records')
		click('BasicInternalFrameTitlePane$NoFocusButton2')
	close()
