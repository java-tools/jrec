useFixture(default)

def test():
	from Modules import commonBits
	java_recorded_version = '1.6.0_17'

	if window('Protocol Buffer Editor'):
		select('FileChooser', commonBits.sampleDir() + 'protoFieldTest2.bin')
		click('Edit1')
		rightclick('Table1', 'Line,1')
		select_menu('Edit Record')
		assert_p('Table', 'Content', '[[f01, 1, , [10000, 10001], [10000, 10001]], [f02, 2, , [10000, 10001], [10000, 10001]], [f03, 3, , [10000, 10001], [10000, 10001]], [f04, 4, , [10000, 10001], [10000, 10001]], [f05, 5, , [10000, 10001], [10000, 10001]], [f06, 6, , [100000000, 100000001], [100000000, 100000001]], [f07, 7, , [100000000, 100000001], [100000000, 100000001]], [f08, 8, , [100000000, 100000001], [100000000, 100000001]], [f09, 9, , [100000000, 100000001], [100000000, 100000001]], [f10, 10, , [100000000, 100000001], [100000000, 100000001]], [f11, 11, , [10000.0, 10001.0], [10000.0, 10001.0]], [f12, 12, , [1.0E8, 1.00000001E8], [1.0E8, 1.00000001E8]], [f13, 13, , [false, false], [false, false]], [f15, 14, , [\'100000000\',\'100000001\'], [\'100000000\',\'100000001\']], [f17, 15, , [OTHER, SALE], [OTHER, SALE]], [f19, 16, , [0000000001, 0000000002], [0000000001, 0000000002]]]')
##		select('Table', '')
		select('Table', 'cell:Data,14([OTHER, SALE])')
		select('TextField1', '[OTHER, SALE, RETURN, SALE]')
		select('Table', 'cell:Field,10(f11)')
		select('Table', 'cell:Field,10(f11)')
		assert_p('Table', 'Content', '[[f01, 1, , [10000, 10001], [10000, 10001]], [f02, 2, , [10000, 10001], [10000, 10001]], [f03, 3, , [10000, 10001], [10000, 10001]], [f04, 4, , [10000, 10001], [10000, 10001]], [f05, 5, , [10000, 10001], [10000, 10001]], [f06, 6, , [100000000, 100000001], [100000000, 100000001]], [f07, 7, , [100000000, 100000001], [100000000, 100000001]], [f08, 8, , [100000000, 100000001], [100000000, 100000001]], [f09, 9, , [100000000, 100000001], [100000000, 100000001]], [f10, 10, , [100000000, 100000001], [100000000, 100000001]], [f11, 11, , [10000.0, 10001.0], [10000.0, 10001.0]], [f12, 12, , [1.0E8, 1.00000001E8], [1.0E8, 1.00000001E8]], [f13, 13, , [false, false], [false, false]], [f15, 14, , [\'100000000\',\'100000001\'], [\'100000000\',\'100000001\']], [f17, 15, , [OTHER, SALE, RETURN, SALE], [OTHER, SALE, RETURN, SALE]], [f19, 16, , [0000000001, 0000000002], [0000000001, 0000000002]]]')
		select('Table', 'cell:Field,10(f11)')
		select('Table', 'cell:Data,14([OTHER, SALE, RETURN, SALE])')
		click('ArrowButton')
		assert_p('Table', 'Content', '[[0, OTHER], [1, SALE], [2, RETURN], [3, SALE]]')
		select('Table', 'cell:Data,1(SALE)')
		select('Table', 'RETURN', 'Data,1')
		select('Table', 'OTHER', 'Data,2')
		select('Table', 'cell:Index,3(3)')
		click('Add Row After')
		select('Table', 'cell:Data,4(OTHER)')
		select('Table', 'RETURN', 'Data,4')
		select('Table', 'cell:Index,4(4)')
		click('Add Row After')
		select('Table', 'cell:Data,5(OTHER)')
		select('Table', 'SALE', 'Data,5')
		select('Table', 'cell:Index,3(3)')
		assert_p('Table', 'Content', '[[0, OTHER], [1, RETURN], [2, OTHER], [3, SALE], [4, RETURN], [5, SALE]]')
		click('BasicInternalFrameTitlePane$NoFocusButton2')
		select_menu('Window>>protoFieldTest2.bin>>Record: ')
		assert_p('Table', 'Text', '')
		assert_p('Table', 'Content', '[[f01, 1, , [10000, 10001], [10000, 10001]], [f02, 2, , [10000, 10001], [10000, 10001]], [f03, 3, , [10000, 10001], [10000, 10001]], [f04, 4, , [10000, 10001], [10000, 10001]], [f05, 5, , [10000, 10001], [10000, 10001]], [f06, 6, , [100000000, 100000001], [100000000, 100000001]], [f07, 7, , [100000000, 100000001], [100000000, 100000001]], [f08, 8, , [100000000, 100000001], [100000000, 100000001]], [f09, 9, , [100000000, 100000001], [100000000, 100000001]], [f10, 10, , [100000000, 100000001], [100000000, 100000001]], [f11, 11, , [10000.0, 10001.0], [10000.0, 10001.0]], [f12, 12, , [1.0E8, 1.00000001E8], [1.0E8, 1.00000001E8]], [f13, 13, , [false, false], [false, false]], [f15, 14, , [\'100000000\',\'100000001\'], [\'100000000\',\'100000001\']], [f17, 15, , [OTHER, RETURN, OTHER, SALE, RETURN, SALE], [OTHER, RETURN, OTHER, SALE, RETURN, SALE]], [f19, 16, , [0000000001, 0000000002], [0000000001, 0000000002]]]')
		click('BasicInternalFrameTitlePane$NoFocusButton2')
	close()
