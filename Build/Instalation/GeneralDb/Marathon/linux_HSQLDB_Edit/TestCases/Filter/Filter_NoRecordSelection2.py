useFixture(default)

def test():
	from Modules import commonBits
	java_recorded_version = '1.6.0_10'

	if window('Record Editor'):
		select('FileChooser', commonBits.sampleDir() + 'zzAms_PODownload_20041231.txt')
		commonBits.setRecordLayout(select, 'zzAms PO Download')
		click('Edit1')
		click('Filter')
		select('Table', 'cell:Record,0(ams PO Download: Detail)')
		select('Table2', 'cell:Field,0(null)')
		select('Table', 'cell:Record,0(ams PO Download: Detail)')
		select('Table2', 'Record Type', 'Field,0')
		select('Table2', 'd', 'Value,0')
		select('Table2', 'cell:Value,0()')
		select('Table', 'false', 'Include,1')
		select('Table', 'cell:Include,2(true)')
		click('Filter')
		select('Table', 'cell:3 - 9|Pack Qty,2(48.0000)')
		assert_p('Table', 'Text', '16.0000', '3 - 9|Pack Qty,4')
		select('Table', 'cell:3 - 9|Pack Qty,3(4.0000)')
		assert_p('Table', 'RowCount', '24')
		select('Table', 'cell:3 - 9|Pack Qty,6(108.0000)')
		assert_p('Table', 'Text', '108.0000', '3 - 9|Pack Qty,6')
		select('Table', 'cell:3 - 9|Pack Qty,6(108.0000)')
		rightclick('Table', '1 - 2|Record Type,4')
		select_menu('Edit Record')
##		select('Table1', 'cell:3 - 9|Pack Qty,6(108.0000)')
		select('Table', 'cell:Data,6(2075348)')
		assert_p('Table', 'Text', '2075348', 'Data,6')
		select('Table', 'cell:Data,8( DONKEY 24-006607 SHWL WRAP CARD)')
		assert_p('Table', 'Text', ' DONKEY 24-006607 SHWL WRAP CARD', 'Data,8')
		select('Table', 'cell:Data,6(2075348)')
		assert_p('Table', 'Content', '[[Record Type, 1, 2, D1, D1], [Pack Qty, 3, 9, 16.0000, 000160000], [Pack Cost, 12, 13, 6228148.3200, 0062281483200], [APN, 25, 13, 2222, 0000000002222], [Filler, 38, 1, , ], [Product, 39, 8, 2224531, 02224531], [pmg dtl tech key, 72, 15, 2075348, 2075348], [Case Pack id, 87, 15, 5614531, 5614531], [Product Name, 101, 50,  DONKEY 24-006607 SHWL WRAP CARD,  DONKEY 24-006607 SHWL WRAP CARD]]')
		select('Table', 'cell:Data,6(2075348)')
		click('Right')
		select('Table', 'cell:Data,6(2075349)')
		assert_p('Table', 'Content', '[[Record Type, 1, 2, D1, D1], [Pack Qty, 3, 9, 8.0000, 000080000], [Pack Cost, 12, 13, 148.3200, 0000001483200], [APN, 25, 13, 0, 0000000000000], [Filler, 38, 1, , ], [Product, 39, 8, 62224944, 62224944], [pmg dtl tech key, 72, 15, 2075349, 2075349], [Case Pack id, 87, 15, 65614944, 65614944], [Product Name, 101, 50,  MILK 24-006607 SHWL WRAP CARD,  MILK 24-006607 SHWL WRAP CARD]]')
		select('Table', 'cell:Data,6(2075349)')
		click('Right')
		select('Table', 'cell:Data,6(2075350)')
		assert_p('Table', 'Content', '[[Record Type, 1, 2, D1, D1], [Pack Qty, 3, 9, 108.0000, 001080000], [Pack Cost, 12, 13, 148.3200, 0000001483200], [APN, 25, 13, 0, 0000000000000], [Filler, 38, 1, , ], [Product, 39, 8, 62225071, 62225071], [pmg dtl tech key, 72, 15, 2075350, 2075350], [Case Pack id, 87, 15, 65615071, 65615071], [Product Name, 101, 50,  M.ROSE 24-006607 SHWL WRAP CARD,  M.ROSE 24-006607 SHWL WRAP CARD]]')
		select('Table', 'cell:Data,6(2075350)')
		click('TextArea')
		assert_p('TextArea', 'Text', 'D100108000000000014832000000000000000 62225071000000054540000108       2075350        65615071       M.ROSE 24-006607 SHWL WRAP CARD                   ')
		click('Right')
		select('Table', 'cell:Data,6(2075351)')
		assert_p('Table', 'Content', '[[Record Type, 1, 2, D1, D1], [Pack Qty, 3, 9, 8.0000, 000080000], [Pack Cost, 12, 13, 148.3200, 0000001483200], [APN, 25, 13, 0, 0000000000000], [Filler, 38, 1, , ], [Product, 39, 8, 52225156, 52225156], [pmg dtl tech key, 72, 15, 2075351, 2075351], [Case Pack id, 87, 15, 55615156, 55615156], [Product Name, 101, 50,  M.ROSE 24-006607 SHWL WRAP CARD,  M.ROSE 24-006607 SHWL WRAP CARD]]')
		select('Table', 'cell:Data,6(2075351)')
		click('TextArea')
		assert_p('ScrollPane1', 'Enabled', 'true')
	close()
