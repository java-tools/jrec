useFixture(default)

def test():
	from Modules import commonBits
	java_recorded_version = '1.6.0_10'

	if window('Record Editor'):
		select('FileChooser', commonBits.sampleDir() + 'zzAms_PODownload_20041231.txt')
		commonBits.setRecordLayout(select, 'zzAms PO Download')
		click('Edit1')
		click('Filter')
		select('Table', 'false', 'Include,1')
		select('Table', 'cell:Record,0(ams PO Download: Detail)')
		select('Table2', 'cell:Field,0(null)')
		select('Table', 'cell:Record,0(ams PO Download: Detail)')
		select('Table2', 'Record Type', 'Field,0')
		select('Table2', 's', 'Value,0')
		select('Table2', 'cell:Value,1()')
		click('Filter1')
		select('LayoutCombo', 'ams PO Download: Detail')
		select('Table', 'cell:3 - 9|Pack Qty,2(50360.0000)')
		assert_p('Table', 'Text', '50360.0000', '3 - 9|Pack Qty,2')
		select('Table', 'cell:3 - 9|Pack Qty,4(50430.0000)')
		assert_p('Table', 'ColumnCount', '9')
		select('Table', 'cell:3 - 9|Pack Qty,4(50430.0000)')
		rightclick('Table', '3 - 9|Pack Qty,2')
		select_menu('Edit Record')
		select('LayoutCombo', 'ams PO Download: Detail')
##		select('Table1', 'cell:3 - 9|Pack Qty,4(50430.0000)')
		select('Table', 'cell:Data,3(550450000000)')
		assert_p('Table', 'Content', '[[Record Type, 1, 2, S1, S1], [Pack Qty, 3, 9, 50360.0000, 503600000], [Pack Cost, 12, 13, 3504300.0000, 0035043000000], [APN, 25, 13, 550450000000, 0550450000000], [Filler, 38, 1, 5, 5], [Product, 39, 8, 33315071, 33315071], [pmg dtl tech key, 72, 15, 004507600000004, 004507600000004], [Case Pack id, 87, 15, 507900000002509, 507900000002509], [Product Name, 101, 50, 9400000004512800000003, 9400000004512800000003]]')
		select('Table', 'cell:Data,6(004507600000004)')
		assert_p('Table', 'Text', '507900000002509', 'Data,7')
		select('Table', 'cell:Data,6(004507600000004)')
		click('TextArea')
		assert_p('TextArea', 'Text', 'S1503600000003504300000005504500000005333150710003506500000004506900000004507600000004507900000002509400000004512800000003')
		click('Right')
		select('LayoutCombo', 'ams PO Download: Detail')
		select('Table', 'cell:Data,3(350720000000)')
		assert_p('Table', 'Content', '[[Record Type, 1, 2, S1, S1], [Pack Qty, 3, 9, 51510.0000, 515100000], [Pack Cost, 12, 13, 4518000.0000, 0045180000000], [APN, 25, 13, 350720000000, 0350720000000], [Filler, 38, 1, 2, 2], [Product, 39, 8, 51730000, 51730000], [pmg dtl tech key, 72, 15, 000    00000000, 000    00000000], [Case Pack id, 87, 15,     00000000,     00000000], [Product Name, 101, 50,   00000000    00000000,   00000000    00000000]]')
		select('Table', 'cell:Data,3(350720000000)')
		click('TextArea')
		assert_p('TextArea', 'Text', 'S1515100000004518000000003507200000002517300000002    00000000    00000000    00000000    00000000    00000000    00000000')
		click('Right')
		select('LayoutCombo', 'ams PO Download: Detail')
		select('Table', 'cell:Data,3(150650000000)')
		assert_p('Table', 'Text', '1', 'Data,4')
		select('Table', 'cell:Data,5(33315156)')
		assert_p('Table', 'Content', '[[Record Type, 1, 2, S1, S1], [Pack Qty, 3, 9, 50430.0000, 504300000], [Pack Cost, 12, 13, 1504500.0000, 0015045000000], [APN, 25, 13, 150650000000, 0150650000000], [Filler, 38, 1, 1, 1], [Product, 39, 8, 33315156, 33315156], [pmg dtl tech key, 72, 15, 000    00000000, 000    00000000], [Case Pack id, 87, 15,     00000000,     00000000], [Product Name, 101, 50,   00000000    00000000,   00000000    00000000]]')
		select('Table', 'cell:Data,5(33315156)')
		click('TextArea')
		select('Table', 'cell:Data,6(000    00000000)')
		select('Table', 'cell:Data,6(000    00000000)')
		click('TextArea')
		assert_p('TextArea', 'Text', 'S1504300000001504500000001506500000001333151560001    00000000    00000000    00000000    00000000    00000000    00000000')
	close()
