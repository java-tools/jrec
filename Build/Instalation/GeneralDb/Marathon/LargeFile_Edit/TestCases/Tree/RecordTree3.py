useFixture(default)

def test():
	from Modules import commonBits
	java_recorded_version = '1.5.0_11'

	if window('Record Editor'):
		select('FileChooser', commonBits.sampleDir() + 'Ams_PODownload_20041231.txt')
		click('Edit1')
		select_menu('View>>Record Based Tree')
#		select('Table', '1', 'Parent Record,0')
#		select('Table', '0', 'Parent Record,2')
		select('Table', 'ams PO Download: Header', 'Parent Record,0')
		select('Table', 'ams PO Download: Detail', 'Parent Record,2')
		select('Table', 'cell:Parent Record,2(0)')
		click('Build')
		select('LayoutCombo', 'ams PO Download: Detail')
		select('JTreeTable', 'cell:Pack Qty,1(45350.0000)')
		select_menu('View>>Table View #{Selected Records#}')
		select('JTreeTable', 'cell:Pack Qty,1(45350.0000)')
		select('Table', 'cell:15 - 4|DC Number 2,2(5037)')
		assert_p('Table', 'Content', '[[H1, 4535, 6, 2280, 222, , 200, 50, 10205010, 7596, 6, LAD, IES KNIC, FT, , , , , ], [D1, 1, 60000006, 2281, 48320000, 0222, 45310000, 5, 45400000, 16, 207, 5348, , 5614, 531, D, ONKEY 24, -6, 607 SHWL], [S1, 5019, 1, 5037, 1, 5078, 1, 5085, 1, 5091, 1, 5093, 1, 5095, 1, 51 D, ONKEY 24, -6, 607 SHWL], [S1, 5171, 1, 5177, 1, 5136, 1, 5145, 1, 5096, 1, , 0, , 0, , 0, , 0], [D1, 0, 80000000, 1, 48320000, 6222, 49440000, 5, 45400000, 8, 207, 5349, , 6561, 4944, M, ILK 24-0, 660, 7 SHWL W], [S1, 5019, 1, 5037, 1, 5091, 1, 5093, 1, 5129, 1, 5177, 1, 5145, 1, , 0, , 0], [D1, 10, 80000000, 1, 48320000, 6222, 50710000, 5, 45400001, 8, 207, 5350, , 6561, 5071, M, .ROSE 24, -6, 607 SHWL], [S1, 5015, 2, 5019, 5, 5035, 2, 5037, 4, 5052, 2, 5055, 2, 5060, 2, 5070, 2, 5074, 4], [S1, 5078, 5, 5081, 2, 5090, 2, 5091, 4, 5093, 4, 5095, 4, 5129, 4, 5144, 4, 5165, 2], [S1, 5303, 2, 5169, 2, 5171, 3, 5177, 4, 5016, 2, 5089, 4, 5136, 3, 5011, 2, 5046, 2], [S1, 5145, 4, 5096, 3, 5162, 2, 5163, 2, 5164, 2, 5192, 2, 5150, 2, 5175, 2, , 0], [D1, 0, 80000000, 1, 48320000, 5222, 51560000, 5, 45400000, 8, 207, 5351, , 5561, 5156, M, .ROSE 24, -6, 607 SHWL], [S1, 5019, 1, 5037, 1, 5091, 1, 5093, 1, 5129, 1, 5177, 1, 5145, 1, , 0, , 0]]')
		select('Table', 'cell:15 - 4|DC Number 2,5(5037)')
		assert_p('Table', 'RowCount', '13')
		select('Table', 'cell:15 - 4|DC Number 2,5(5037)')
		click('BasicInternalFrameTitlePane$NoFocusButton2')
		select('JTreeTable', 'cell:Pack Qty,3(45352.0000)')
		rightclick('JTreeTable', 'Pack Qty,3')
		select_menu('Expand Tree')
		select('JTreeTable', 'cell:Pack Qty,4(30.0000)')
		select_menu('View>>Table View #{Selected Records#}')
		select('JTreeTable', 'cell:Pack Qty,4(30.0000)')
		select('Table', 'cell:3 - 4|DC Number 1,1(5036)')
		#assert_p('Table', 'Content', '[[D1, 3, 0, 2, 92680000, 4584, 66800000, 7, 27200000, 30, 212, 736, , 4561, 5156, C, ONCERTO, BLAC, K LEATHE], [S1, 5036, 2, 5043, 3, 5057, 1, 5065, 2, 5069, 2, 5076, 3, 5079, 1, 5094, 3, 5128, 3], [S1, 5151, 3, 5180, 2, 5173, 1, , 0, , 0, , 0, , 0, , 0, , 0]]')
		select('Table', 'cell:3 - 4|DC Number 1,2(5151)')
		rightclick('Table', '3 - 4|DC Number 1,2')
		select_menu('Edit Record')
##		select('Table1', 'cell:3 - 4|DC Number 1,2(5151)')
		select('Table', 'cell:Data,3(5180)')
		assert_p('Table', 'Content', '[[Record Type, 1, 2, S1, S1], [DC Number 1, 3, 4, 5151, 5151], [Pack Quantity 1, 7, 8, 3, 00000003], [DC Number 2, 15, 4, 5180, 5180], [Pack Quantity 2, 19, 8, 2, 00000002], [DC Number 4, 39, 4, 5173, 5173], [Pack Quantity 4, 43, 8, 1, 00000001], [DC Number 5, 51, 4, , ], [Pack Quantity 5, 55, 8, 0, 00000000], [DC Number 6, 63, 4, , ], [Pack Quantity 6, 67, 8, 0, 00000000], [DC Number 7, 75, 4, , ], [Pack Quantity 7, 79, 8, 0, 00000000], [DC Number 8, 87, 4, , ], [Pack Quantity 8, 91, 8, 0, 00000000], [DC Number 9, 99, 4, , ], [Pack Quantity 9, 103, 8, 0, 00000000], [DC Number 10, 111, 4, , ], [Pack Quantity 10, 115, 8, 0, 00000000]]')
		select('Table', 'cell:Data,3(5180)')
	close()
